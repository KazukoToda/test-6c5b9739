{
  "key": "sequenceDiagram",
  "value": [
    {
      "id": "ユーザー管理",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    actor ユーザー\\n    participant フロントエンド\\n    participant バックエンド\\n    participant DB\\n\\n    ユーザー->>フロントエンド: ログイン画面にアクセス\\n    フロントエンド->>ユーザー: ログインフォームを表示\\n    ユーザー->>フロントエンド: メールアドレスとパスワードを入力\\n    フロントエンド->>バックエンド: ログイン認証リクエスト\\n    バックエンド->>DB: ユーザー情報を照会\\n    DB->>バックエンド: ユーザー情報を返す\\n    バックエンド->>バックエンド: パスワードを検証\\n    バックエンド->>フロントエンド: 認証結果を返す\\n    フロントエンド->>ユーザー: ダッシュボードを表示\\n\\n    ユーザー->>フロントエンド: 新規診断開始をクリック\\n    フロントエンド->>バックエンド: 診断セッション作成リクエスト\\n    バックエンド->>DB: 新規診断セッションを保存\\n    DB->>バックエンド: セッションIDを返す\\n    バックエンド->>フロントエンド: セッションIDを返す\\n    フロントエンド->>ユーザー: AI質問応答画面を表示\\n\\n    loop 質問応答\\n        バックエンド->>バックエンド: AI質問生成\\n        バックエンド->>DB: 質問を保存\\n        バックエンド->>フロントエンド: 質問を送信\\n        フロントエンド->>ユーザー: 質問を表示\\n        ユーザー->>フロントエンド: 回答を入力\\n        フロントエンド->>バックエンド: 回答を送信\\n        バックエンド->>DB: 回答を保存\\n        バックエンド->>バックエンド: 回答を分析\\n    end\\n\\n    バックエンド->>バックエンド: 診断結果を生成\\n    バックエンド->>DB: 診断結果を保存\\n    バックエンド->>フロントエンド: 診断結果を送信\\n    フロントエンド->>ユーザー: 診断結果を表示\\n\\n    ユーザー->>フロントエンド: 改善提案を要求\\n    フロントエンド->>バックエンド: 改善提案生成リクエスト\\n    バックエンド->>バックエンド: AI改善提案生成\\n    バックエンド->>DB: 改善提案を保存\\n    バックエンド->>フロントエンド: 改善提案を送信\\n    フロントエンド->>ユーザー: 改善提案を表示\\n\\n    ユーザー->>フロントエンド: レポート作成を要求\\n    フロントエンド->>バックエンド: レポート生成リクエスト\\n    バックエンド->>バックエンド: 診断レポート生成\\n    バックエンド->>DB: レポートを保存\\n    バックエンド->>フロントエンド: レポートIDを送信\\n    フロントエンド->>ユーザー: レポートダウンロードリンクを表示\"}"
    },
    {
      "id": "自己診断",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    User->>Frontend: ログイン画面にアクセス\\n    Frontend->>User: ログインフォームを表示\\n    User->>Frontend: メールアドレスとパスワードを入力\\n    Frontend->>Backend: 認証リクエストを送信\\n    Backend->>DB: ユーザー情報の照合\\n    DB->>Backend: 認証結果を返す\\n    Backend->>Frontend: JWTトークンを含む認証結果を返す\\n    alt 認証成功\\n        Frontend->>User: ダッシュボード画面を表示\\n    else 認証失敗\\n        Frontend->>User: エラーメッセージを表示\\n    end\\n    User->>Frontend: 新規診断開始をクリック\\n    Frontend->>Backend: 診断セッション開始リクエスト\\n    Backend->>DB: 新規診断セッションを作成\\n    DB->>Backend: セッションIDを返す\\n    Backend->>Frontend: 診断セッション情報を返す\\n    Frontend->>User: AI質問応答画面を表示\\n    loop 質問応答プロセス\\n        Backend->>Backend: AI質問生成\\n        Backend->>Frontend: 質問を送信\\n        Frontend->>User: 質問を表示\\n        User->>Frontend: 回答を入力\\n        Frontend->>Backend: 回答を送信\\n        Backend->>DB: 回答を保存\\n        Backend->>Backend: 必要に応じて追加質問を生成\\n    end\\n    Backend->>Backend: 回答分析とスコア算出\\n    Backend->>DB: 診断結果を保存\\n    Backend->>Frontend: 診断結果を送信\\n    Frontend->>User: 診断結果を表示\\n    Backend->>Backend: AI改善提案生成\\n    Backend->>Frontend: 改善提案を送信\\n    Frontend->>User: 改善提案を表示\\n    User->>Frontend: レポート作成をリクエスト\\n    Frontend->>Backend: レポート生成リクエスト\\n    Backend->>Backend: 診断レポート生成\\n    Backend->>DB: レポートを保存\\n    Backend->>Frontend: レポートIDを返す\\n    Frontend->>User: レポートダウンロード画面を表示\"}"
    },
    {
      "id": "診断結果",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    User->>Frontend: ログイン画面にアクセス\\n    Frontend->>Backend: 認証リクエスト送信\\n    Backend->>DB: ユーザー情報照会\\n    DB->>Backend: ユーザー情報返却\\n    Backend->>Backend: パスワード検証\\n    Backend->>Frontend: 認証結果返却\\n    Frontend->>User: ダッシュボード表示\\n    User->>Frontend: 新規診断開始\\n    Frontend->>Backend: 診断セッション作成リクエスト\\n    Backend->>DB: 診断セッション保存\\n    DB->>Backend: セッションID返却\\n    Backend->>Frontend: セッションID返却\\n    Frontend->>User: AI質問応答画面表示\\n    User->>Frontend: 回答入力\\n    Frontend->>Backend: 回答送信\\n    Backend->>DB: 回答保存\\n    Backend->>Backend: AI追加質問生成\\n    Backend->>Frontend: 追加質問送信\\n    Frontend->>User: 追加質問表示\\n    User->>Frontend: 全質問回答完了\\n    Frontend->>Backend: 診断完了通知\\n    Backend->>Backend: 回答分析とスコア算出\\n    Backend->>DB: 診断結果保存\\n    Backend->>Frontend: 診断結果送信\\n    Frontend->>User: 診断結果表示\"}"
    },
    {
      "id": "改善提案",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    User->>Frontend: 改善提案表示画面にアクセス\\n    Frontend->>Backend: 改善提案データ要求\\n    Backend->>DB: 改善提案データ取得\\n    DB->>Backend: 改善提案データ返却\\n    Backend->>Frontend: 改善提案データ送信\\n    Frontend->>User: 改善提案一覧表示\\n    User->>Frontend: 特定の提案をクリック\\n    Frontend->>Backend: 提案詳細データ要求\\n    Backend->>DB: 提案詳細データ取得\\n    DB->>Backend: 提案詳細データ返却\\n    Backend->>Frontend: 提案詳細データ送信\\n    Frontend->>User: 提案詳細表示\\n    User->>Frontend: レポート作成ボタンクリック\\n    Frontend->>Backend: レポート生成リクエスト\\n    Backend->>DB: 診断結果と改善提案データ取得\\n    DB->>Backend: データ返却\\n    Backend->>Backend: レポート生成処理\\n    Backend->>DB: 生成されたレポート保存\\n    Backend->>Frontend: レポート生成完了通知\\n    Frontend->>User: レポート作成完了メッセージ表示\"}"
    },
    {
      "id": "レポート作成",
      "value": "{\n  \"mermaid\": \"sequenceDiagram\\n    User->>Frontend: アカウント登録情報入力\\n    Frontend->>Backend: 登録情報送信\\n    Backend->>DB: ユーザー情報保存\\n    DB-->>Backend: 保存完了\\n    Backend->>Frontend: 登録完了通知\\n    Frontend->>User: 登録完了画面表示\\n    User->>Frontend: ログイン情報入力\\n    Frontend->>Backend: 認証リクエスト\\n    Backend->>DB: ユーザー情報照会\\n    DB-->>Backend: ユーザー情報返却\\n    Backend->>Frontend: 認証結果送信\\n    Frontend->>User: ダッシュボード表示\\n    User->>Frontend: 新規診断開始\\n    Frontend->>Backend: 診断セッション作成リクエスト\\n    Backend->>DB: セッション情報保存\\n    DB-->>Backend: 保存完了\\n    Backend->>Frontend: セッションID返却\\n    Frontend->>User: AI質問応答画面表示\\n    User->>Frontend: 質問への回答入力\\n    Frontend->>Backend: 回答データ送信\\n    Backend->>DB: 回答データ保存\\n    DB-->>Backend: 保存完了\\n    Backend->>Frontend: 次の質問送信\\n    Frontend->>User: 次の質問表示\\n    User->>Frontend: 診断完了\\n    Frontend->>Backend: 診断結果分析リクエスト\\n    Backend->>DB: 診断データ取得\\n    DB-->>Backend: 診断データ返却\\n    Backend->>Backend: AI分析実行\\n    Backend->>DB: 分析結果保存\\n    DB-->>Backend: 保存完了\\n    Backend->>Frontend: 診断結果送信\\n    Frontend->>User: 診断結果表示\"\n}"
    },
    {
      "id": "進捗管理",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    User->>Frontend: ログイン画面にアクセス\\n    Frontend->>Backend: 認証リクエスト送信\\n    Backend->>DB: ユーザー情報照会\\n    DB->>Backend: ユーザー情報返却\\n    Backend->>Backend: パスワード検証\\n    Backend->>Backend: JWTトークン生成\\n    Backend->>Frontend: 認証結果とトークン返却\\n    Frontend->>User: ダッシュボード表示\\n    User->>Frontend: 新規診断開始\\n    Frontend->>Backend: 診断セッション作成リクエスト\\n    Backend->>DB: セッション情報保存\\n    DB->>Backend: セッションID返却\\n    Backend->>Backend: AI質問生成\\n    Backend->>DB: 生成された質問保存\\n    Backend->>Frontend: 質問リスト返却\\n    Frontend->>User: AI質問表示\\n    User->>Frontend: 質問への回答入力\\n    Frontend->>Backend: 回答送信\\n    Backend->>DB: 回答保存\\n    Backend->>Backend: 回答分析とスコア算出\\n    Backend->>DB: 診断結果保存\\n    Backend->>Frontend: 診断結果返却\\n    Frontend->>User: 診断結果表示\\n    User->>Frontend: 改善提案リクエスト\\n    Frontend->>Backend: 改善提案生成リクエスト\\n    Backend->>Backend: AI改善提案生成\\n    Backend->>DB: 改善提案保存\\n    Backend->>Frontend: 改善提案リスト返却\\n    Frontend->>User: 改善提案表示\\n    User->>Frontend: レポート生成リクエスト\\n    Frontend->>Backend: レポート生成リクエスト\\n    Backend->>DB: 診断結果と改善提案取得\\n    DB->>Backend: データ返却\\n    Backend->>Backend: PDFレポート生成\\n    Backend->>DB: レポート保存\\n    Backend->>Frontend: レポートID返却\\n    Frontend->>User: レポートダウンロードリンク表示\"}"
    },
    {
      "id": "データ管理",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    User->>Frontend: ログイン画面にアクセス\\n    Frontend->>Backend: ログイン情報を送信\\n    Backend->>DB: ユーザー情報を検索\\n    DB->>Backend: ユーザー情報を返却\\n    Backend->>Frontend: 認証結果を返却\\n    alt 認証成功\\n        Frontend->>User: ダッシュボードを表示\\n    else 認証失敗\\n        Frontend->>User: エラーメッセージを表示\\n    end\\n    User->>Frontend: 新規診断開始をクリック\\n    Frontend->>Backend: 診断セッション作成リクエスト\\n    Backend->>DB: 診断セッションを保存\\n    DB->>Backend: セッションIDを返却\\n    Backend->>Frontend: セッションIDを返却\\n    Frontend->>User: AI質問応答画面を表示\\n    loop 質問応答\\n        User->>Frontend: 回答を入力\\n        Frontend->>Backend: 回答を送信\\n        Backend->>DB: 回答を保存\\n        Backend->>Backend: AIによる次の質問生成\\n        Backend->>Frontend: 次の質問を送信\\n        Frontend->>User: 次の質問を表示\\n    end\\n    Backend->>Backend: AIによる診断結果分析\\n    Backend->>DB: 診断結果を保存\\n    Backend->>Frontend: 診断結果を送信\\n    Frontend->>User: 診断結果を表示\\n    User->>Frontend: 改善提案表示をクリック\\n    Frontend->>Backend: 改善提案リクエスト\\n    Backend->>Backend: AIによる改善提案生成\\n    Backend->>DB: 改善提案を保存\\n    Backend->>Frontend: 改善提案を送信\\n    Frontend->>User: 改善提案を表示\"}"
    },
    {
      "id": "セキュリティ",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    User->>Frontend: ログイン画面にアクセス\\n    Frontend->>Backend: 認証リクエスト送信\\n    Backend->>DB: ユーザー情報照会\\n    DB->>Backend: ユーザー情報返却\\n    Backend->>Backend: パスワード検証\\n    Backend->>Frontend: 認証結果返却\\n    Frontend->>User: ダッシュボード表示\\n    User->>Frontend: 新規診断開始\\n    Frontend->>Backend: 診断セッション作成リクエスト\\n    Backend->>DB: 診断セッション保存\\n    DB->>Backend: セッションID返却\\n    Backend->>Frontend: セッションID返却\\n    Frontend->>User: AI質問応答画面表示\\n    User->>Frontend: 質問に回答\\n    Frontend->>Backend: 回答データ送信\\n    Backend->>Backend: AIによる回答分析\\n    Backend->>DB: 分析結果保存\\n    DB->>Backend: 保存確認\\n    Backend->>Frontend: 次の質問または診断完了通知\\n    Frontend->>User: 診断結果表示\\n    User->>Frontend: レポート生成リクエスト\\n    Frontend->>Backend: レポート生成リクエスト\\n    Backend->>Backend: AIによるレポート生成\\n    Backend->>DB: レポート保存\\n    DB->>Backend: 保存確認\\n    Backend->>Frontend: レポートID返却\\n    Frontend->>User: レポートダウンロードリンク表示\"}"
    },
    {
      "id": "サポート",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    User->>Frontend: パスワードリセット要求\\n    Frontend->>Backend: リセット要求を送信\\n    Backend->>DB: ユーザー情報を確認\\n    DB->>Backend: ユーザー情報を返却\\n    Backend->>Backend: リセットトークンを生成\\n    Backend->>DB: リセットトークンを保存\\n    Backend->>Frontend: リセット用メール送信完了通知\\n    Frontend->>User: パスワードリセット用メール送信完了を表示\\n    User->>Frontend: リセットメールのリンクをクリック\\n    Frontend->>Backend: 新パスワードとトークンを送信\\n    Backend->>DB: トークンを検証\\n    DB->>Backend: トークン検証結果を返却\\n    Backend->>Backend: 新パスワードをハッシュ化\\n    Backend->>DB: 新パスワードを保存\\n    DB->>Backend: 保存完了通知\\n    Backend->>Frontend: パスワード更新完了通知\\n    Frontend->>User: パスワード更新完了を表示\"}"
    }
  ]
}
